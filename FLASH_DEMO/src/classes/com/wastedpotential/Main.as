package com.wastedpotential {	import flash.display.MovieClip;	import flash.events.Event;	import flash.events.KeyboardEvent;		public class Main extends MovieClip {		private var _currentKeys:Array = [];		private var _currentKey:int = 0;		private var _nextKey:int = 0;				private var currentX:Number;		private var currentY:Number;		private var vX:Number = 2;		private var aX:Number = 0.5;		private var baby:MovieClip;				private var xOffset1:int = -35;		private var A1:Number = 0.04361;		private var B1:Number = -6.2803;		private var C1:Number = 300;				private var xOffset2:int = 109;		private var A2:Number = 0.03928;		private var B2:Number = -4.8703;		private var C2:Number = 300;				private var xOffset3:int = 233;		private var A3:Number = 0.02228;		private var B3:Number = -2.9851;		private var C3:Number = 300;				private var xOffset4:int = 367;		private var A4:Number = 0.01559;		private var B4:Number = -2.0896;		private var C4:Number = 300;				private const START_X:int = 32;		private const FINAL_X:int = 500;				public static const LEFT:int = 37;		public static const RIGHT:int = 39;		public static const Z:int = 90;		public static const X:int = 88;		public static const C:int = 67;				//- constructor		public function Main() {			trace("Main :: CONSTRUCTOR");			currentX = START_X;			baby = new Dot();			addChild(baby);			baby.x = currentX;						stage.addEventListener(KeyboardEvent.KEY_DOWN, handleKeyDown);        	stage.addEventListener(KeyboardEvent.KEY_UP, handleKeyUp);									addEventListener(Event.ENTER_FRAME, onFrame);		}				private function handleKeyDown(e:KeyboardEvent=null):void {			//trace("down: "+e.keyCode);			var found:int = _currentKeys.indexOf(e.keyCode);			if (found < 0) {				keyPressed(e.keyCode);				_currentKeys.push(e.keyCode);			}		}				private function handleKeyUp(e:KeyboardEvent=null):void {			//trace("up: "+e.keyCode);			var found:int = _currentKeys.indexOf(e.keyCode);			if (found >= 0) {				_currentKeys.splice(found, 1);			}		}				private function keyPressed(keyCode:int):void {			_nextKey = keyCode;		}				private function onFrame(e:Event=null):void {			if (_nextKey != _currentKey) {				trace("moveMe");				_currentKey = _nextKey;			}									currentX = currentX + vX;			if (currentX > FINAL_X) { //loop it				currentX = START_X;			}			var xOffset:Number;			var A:Number;			var B:Number;			var C:Number;			if (currentX < xOffset2) {				xOffset = xOffset1;				A = A1;				B = B1;				C = C1;			}			else if (currentX < xOffset3) {				xOffset = xOffset2;				A = A2;				B = B2;				C = C2;			}			else if (currentX < xOffset4) {				xOffset = xOffset3;				A = A3;				B = B3;				C = C3;			}						else { //the last bounce segment before it loops				xOffset = xOffset4;				A = A4;				B = B4;				C = C4;			}			currentY = A*(currentX - xOffset)*(currentX - xOffset) + B*(currentX - xOffset) + C;			baby.x = currentX;			baby.y = currentY;		}	}	}